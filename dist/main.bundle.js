(()=>{"use strict";var e={375:(e,t,n)=>{n.d(t,{Et:()=>p,s:()=>f,Xl:()=>m,Jz:()=>y,jR:()=>v,dp:()=>x});const a=["purple","indigo","blue","cyan","green","lightgreen","yellow","gold","orange","orangered","red"];class r{constructor(e,t,n=0){this.row=e,this.col=t,this.x=t*x,this.y=e*x,this.value=n,this.next=0}onClick(){this.value<v.G-1?this.value++:this.value=0,this.next=this.value}update(){let e=0;for(let t=this.row-1;t<=this.row+1;t++)for(let n=this.col-1;n<=this.col+1;n++)t==this.row&&n==this.col||1==o.data[t<0?o.data.length-1:t>o.data.length-1?0:t][n>o.data[0].length-1?0:n<0?o.data[0].length-1:n].value&&e++;1==this.value?(this.next=this.value,(({S:e},t)=>{for(let n in e)if(t==e[n])return!0;return!1})(v,e)||this.next++):this.value>1?this.next++:this.next=(({B:e},t)=>{for(let n in e)if(t==e[n])return!0;return!1})(v,e),this.next>=v.G&&(this.next=0)}draw(e){e.fillStyle=this.value?a[this.value-1]:"white",e.fillRect(o.x+this.x+.5,o.y+this.y+.5,x-1,x-1)}}const o=window.matrix={data:[],x:16,y:16,init:()=>{for(let e=0;e<36;e++){o.data.push([]);for(let t=0;t<48;t++)o.data[e].push(new r(e,t))}},clear:()=>{o.data.forEach(((e,t)=>{e.forEach(((e,t)=>{e.value=0,e.next=0}))}))},random:()=>{o.data.forEach(((e,t)=>{e.forEach(((e,t)=>{e.value=Math.round(Math.random()),e.next=0}))}))},update:()=>{o.data.forEach(((e,t)=>{e.forEach(((e,t)=>{e.update()}))})),o.data.forEach(((e,t)=>{e.forEach(((e,t)=>{e.value=e.next}))}))},draw:()=>{o.data.forEach(((e,t)=>{e.forEach(((e,t)=>{e.draw(f.getContext("2d"))}))}))}},i={Life:{B:[3],S:[2,3],G:2},"Day & Night":{B:[3,6,7,8],S:[3,4,6,7,8],G:2},Seeds:{B:[2],S:[],G:2},Lines:{B:[4,5,8],S:[0,1,2,3,4,5],G:7},"Star Wars":{B:[2],S:[3,4,5],G:4}};let l=0,d=0,s=0,c=!1,u=!1;const h=()=>{const e=1e3/p;let t=window.performance.now(),n=0==d?0:t-d;for(d=t,l+=n;c&&l>=e;)u&&o.update(),l-=e;m.fillStyle="black",m.fillRect(0,0,f.width,f.height),o.draw(m),m.fillStyle="red",m.fillRect(y.x,y.y,1,1),c?s=requestAnimationFrame(h):cancelAnimationFrame(s)};var f,m,p=30,v={...i.Life};const y={x:0,y:0},x=16;window.addEventListener("DOMContentLoaded",(e=>{(f=document.querySelector("canvas")).width=800,f.height=600,m=f.getContext("2d"),f.addEventListener("mousemove",(e=>{y.x=e.offsetX,y.y=e.offsetY})),f.addEventListener("mousedown",(e=>{for(let t in o.data)for(let n in o.data[t])e.offsetX>=o.x+o.data[t][n].x&&e.offsetX<=o.x+o.data[t][n].x+x-1&&e.offsetY>=o.y+o.data[t][n].y&&e.offsetY<=o.y+o.data[t][n].y+x-1&&o.data[t][n].onClick()}));const t=document.getElementById("play");t.addEventListener("click",(e=>{t.innerText=(u=!u)?"Pause":"Play"})),document.getElementById("clear").addEventListener("click",(e=>{o.clear()})),document.getElementById("random").addEventListener("click",(e=>{o.random()}));const n=document.querySelector("#rules ~ .dropdown-content");Object.getOwnPropertyNames(i).forEach((e=>{const t=document.createElement("li");t.innerText=e,t.addEventListener("click",(t=>{name=e,v={...i[name]},a.value=v.B,r.value=v.S,l.value=v.G})),n.appendChild(t)}));const a=document.getElementById("B-input");a.addEventListener("input",(e=>{const t=[],n=a.value.replace(/,*/g,"");for(let e in n){const a=Number(n[e]);if(isNaN(a))return!1;t.push(a)}v.B=t}));const r=document.getElementById("S-input");r.addEventListener("input",(e=>{const t=[],n=r.value.replace(/,*/g,"");for(let e in n){const a=Number(n[e]);if(isNaN(a))return!1;t.push(a)}v.S=t}));const l=document.getElementById("G-input");l.addEventListener("input",(e=>{v.G=l.value}));const E=document.getElementById("fps");E.addEventListener("input",(e=>{document.querySelector("#fps+span").innerText=p=E.value})),document.querySelector("#fps+span").innerText=p=E.value,o.init(),(()=>{if(c)throw new Error("timeStep is already running: cannot start another animation frame request");d=0,c=!0,s=requestAnimationFrame(h)})()}))}},t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(375)})();
//# sourceMappingURL=main.bundle.js.map